import{r as g,j as n,y as W,z as D,i as I,m as C,X as M,B as y,bo as F,bp as j,bm as T}from"./index-DE8FC31Q.js";import{u as E}from"./SheGrid-CraVEQhg.js";import{S as G}from"./settings-2-BV-yxbdW.js";import{C as P}from"./chevron-up-BEoR0LiH.js";const $="_gridItemsFilterWrapper_185ga_1",O="_triggerContainer_185ga_1",z="_clearButton_185ga_5",A="_dropdownMenuTriggerButton_185ga_24",H="_buttonInnerItems_185ga_30",L="_columnName_185ga_36",X="_columnNameWithIds_185ga_40",J="_settingsIcon_185ga_47",K="_chevronIcon_185ga_51",Q="_chevronIconWithSelectedIds_185ga_56",U="_dropdownMenuContent_185ga_66",V="_itemsContainer_185ga_74",Y="_buttonBlock_185ga_78",o={gridItemsFilterWrapper:$,triggerContainer:O,clearButton:z,dropdownMenuTriggerButton:A,buttonInnerItems:H,columnName:L,columnNameWithIds:X,settingsIcon:J,chevronIcon:K,chevronIconWithSelectedIds:Q,dropdownMenuContent:U,itemsContainer:V,buttonBlock:Y};function en({items:p,columnName:c,selected:i,identifier:l,getId:m,getName:v,icon:f}){const[s,u]=g.useState([]),[w,h]=g.useState(!1),[N,_]=g.useState([]),{onGridRequestChange:d,gridRequestModel:t}=E();g.useEffect(()=>{(i==null?void 0:i.length)>=0&&u(i||[])},[i]);const S=(e,r)=>e.length!==r.length?!1:e.every(a=>r.includes(a))&&r.every(a=>e.includes(a));function B(e){u(r=>r.includes(e)?r.filter(a=>a!==e):[...r,e])}function b(){u([]),_([]),d({...t,currentPage:1,filter:{...t==null?void 0:t.filter,[l||c]:[]}}),h(!1)}function k(){u([]),_([]),d({...t,currentPage:1,filter:{...t==null?void 0:t.filter,[l||c]:[]}})}function x(){s.length>0&&d({...t,filter:{...t==null?void 0:t.filter,[l||c]:s}}),h(!1)}return n.jsx("div",{className:o.gridItemsFilterWrapper,children:n.jsxs(W,{open:w,onOpenChange:e=>{e?_([...s]):!S(s,N)&&(s.length>0?x():d({...t,currentPage:1,filter:{...t==null?void 0:t.filter,[l||c]:[]}})),h(e)},children:[n.jsxs("div",{className:o.triggerContainer,children:[n.jsx(D,{asChild:!0,children:n.jsx(I,{className:o.dropdownMenuTriggerButton,variant:"outline",disabled:!p||p.length===0,onClick:()=>h(!0),children:n.jsxs("div",{className:o.buttonInnerItems,children:[(s==null?void 0:s.length)>0?n.jsx("span",{children:s.length}):f?n.jsx(C,{icon:f,className:o.settingsIcon}):n.jsx(G,{className:o.settingsIcon}),n.jsx("span",{className:(s==null?void 0:s.length)>0?o.columnNameWithIds:o.columnName,children:c}),n.jsx(P,{className:s.length===0?o.chevronIcon:`${o.chevronIcon} ${o.chevronIconWithSelectedIds}`})]})})}),s.length>0&&n.jsx("div",{className:o.clearButton,onClick:e=>{e.stopPropagation(),b()},children:n.jsx(C,{icon:M})})]}),n.jsxs(y,{align:"start",className:o.dropdownMenuContent,children:[n.jsxs("div",{className:o.itemsList,children:[n.jsx(F,{children:c}),n.jsx(j,{}),n.jsx("div",{className:o.itemsContainer,children:p.map((e,r)=>n.jsx(T,{className:"capitalize",checked:s.includes(m(e)),onCheckedChange:()=>B(m(e)),onSelect:a=>{a.preventDefault()},children:v(e)},`${m(e)}-${r}`))}),n.jsx(j,{})]}),n.jsxs("div",{className:o.buttonBlock,children:[n.jsx(I,{onClick:k,variant:"outline",value:"Default"}),n.jsx(I,{onClick:x,value:"Apply"})]})]})]})})}export{en as G};
