import{r as d,j as n,a6 as k,a7 as W,k as _,m as x,X as D,a8 as b,as as O,at as C,au as $}from"./index-CqLEDb0h.js";import{u as y}from"./SheGrid-Fci2HgNW.js";import{S as F}from"./settings-2-BKZv0M77.js";import{C as T}from"./chevron-up-DLJ1s3UP.js";const E="_gridItemsFilterWrapper_l57zf_1",G="_triggerContainer_l57zf_1",A="_clearButton_l57zf_5",H="_dropdownMenuTriggerButton_l57zf_24",P="_buttonInnerItems_l57zf_29",R="_columnName_l57zf_37",q="_columnNameWithIds_l57zf_41",L="_settingsIcon_l57zf_48",X="_chevronIcon_l57zf_52",J="_chevronIconWithSelectedIds_l57zf_57",K="_dropdownMenuContent_l57zf_65",Q="_itemsContainer_l57zf_73",U="_buttonBlock_l57zf_77",V="_selectedIdx_l57zf_94",Y="_dropdownMenuOpen_l57zf_97",t={gridItemsFilterWrapper:E,triggerContainer:G,clearButton:A,dropdownMenuTriggerButton:H,buttonInnerItems:P,columnName:R,columnNameWithIds:q,settingsIcon:L,chevronIcon:X,chevronIconWithSelectedIds:J,dropdownMenuContent:K,itemsContainer:Q,buttonBlock:U,selectedIdx:V,dropdownMenuOpen:Y};function on({items:u,columnName:h,selected:l,identifier:j,getId:p,getName:v,icon:g}){const[o,a]=d.useState([]),[f,c]=d.useState(!1),[w,m]=d.useState([]),{onGridRequestChange:N,gridRequestModel:i}=y();d.useEffect(()=>{(l==null?void 0:l.length)>=0&&a(l||[])},[l]);const M=(e,s)=>e.length!==s.length?!1:e.every(r=>s.includes(r))&&s.every(r=>e.includes(r));function S(e){a(s=>s.includes(e)?s.filter(r=>r!==e):[...s,e])}function z(){a([]),m([]),c(!1)}function B(){a([]),m([])}function I(){o.length>0,c(!1)}return n.jsx("div",{className:t.gridItemsFilterWrapper,children:n.jsxs(k,{open:f,onOpenChange:e=>{e?m([...o]):!M(o,w)&&(o.length>0?I():N({...i,currentPage:1,filter:{...i==null?void 0:i.filter,[j||h]:[]}})),c(e)},children:[n.jsxs("div",{className:`${t.triggerContainer} ${f?t.dropdownMenuOpen:""}`,children:[n.jsx(W,{asChild:!0,children:n.jsx(_,{className:t.dropdownMenuTriggerButton,variant:"outline",disabled:!u||u.length===0,onClick:()=>c(!0),children:n.jsxs("div",{className:t.buttonInnerItems,children:[(o==null?void 0:o.length)>0?n.jsx("span",{className:t.selectedIdx,children:o.length}):g?n.jsx(x,{icon:g,className:t.settingsIcon}):n.jsx(F,{className:t.settingsIcon}),n.jsx("span",{className:(o==null?void 0:o.length)>0?t.columnNameWithIds:t.columnName,children:h}),n.jsx(T,{className:`${t.chevronIcon} ${o.length>0?t.chevronIconWithSelectedIds:""}`})]})})}),o.length>0&&n.jsx("div",{className:t.clearButton,onClick:e=>{e.stopPropagation(),z()},children:n.jsx(x,{icon:D})})]}),n.jsxs(b,{align:"start",className:t.dropdownMenuContent,children:[n.jsxs("div",{children:[n.jsx(O,{children:h}),n.jsx(C,{}),n.jsx("div",{className:t.itemsContainer,children:u.map((e,s)=>n.jsx($,{className:"capitalize",checked:o.includes(p(e)),onCheckedChange:()=>S(p(e)),onSelect:r=>{r.preventDefault()},children:v(e)},`${p(e)}-${s}`))}),n.jsx(C,{})]}),n.jsxs("div",{className:t.buttonBlock,children:[n.jsx(_,{onClick:B,variant:"outline",value:"Default"}),n.jsx(_,{onClick:I,value:"Apply"})]})]})]})})}export{on as G};
