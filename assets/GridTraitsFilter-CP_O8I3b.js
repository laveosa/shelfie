import{r as w,j as o,a6 as m,a7 as C,k as f,m as v,X as x,a8 as M,au as j}from"./index-CqLEDb0h.js";import{u as b}from"./SheGrid-Fci2HgNW.js";import{P as T,a as N}from"./trash-Czml7Fyd.js";import{C as O}from"./chevron-up-DLJ1s3UP.js";const S="_gridTraitsFilterWrapper_b5hhw_1",k="_triggerContainer_b5hhw_6",D="_clearButton_b5hhw_10",F="_dropdownMenuTrigger_b5hhw_29",B="_chevronIcon_b5hhw_38",W="_chevronIconLeft_b5hhw_41",G="_chevronIconRight_b5hhw_44",L="_dropdownMenuContent_b5hhw_48",$="_dropdownMenuItem_b5hhw_52",E="_dropdownMenuItemColor_b5hhw_57",P="_dropdownMenuOpen_b5hhw_63",r={gridTraitsFilterWrapper:S,triggerContainer:k,clearButton:D,dropdownMenuTrigger:F,chevronIcon:B,chevronIconLeft:W,chevronIconRight:G,dropdownMenuContent:L,dropdownMenuItem:$,dropdownMenuItemColor:E,dropdownMenuOpen:P};function H({traitOptions:c,traitType:l}){var _;const{onGridRequestChange:z,gridRequestModel:e}=b(),[i,p]=w.useState(),[a,h]=w.useState(!1);w.useEffect(()=>{var n,t;if(!a&&((t=(n=e==null?void 0:e.filter)==null?void 0:n.traitOptions)==null?void 0:t.length)>0){const s=c.find(d=>e.filter.traitOptions.includes(d.optionId));s&&p(s.optionId)}},[(_=e==null?void 0:e.filter)==null?void 0:_.traitOptions,c,a]);function I(n){var d;p(n);const t=c.map(u=>u.optionId);[...(((d=e==null?void 0:e.filter)==null?void 0:d.traitOptions)||[]).filter(u=>!t.includes(u))],h(!1)}function g(){var n,t;e&&((t=(n=e.filter)==null?void 0:n.traitOptions)!=null&&t.filter(s=>s!==i),p(null))}return o.jsx("div",{className:r.gridTraitsFilterWrapper,children:o.jsxs(m,{open:a,onOpenChange:h,children:[o.jsxs("div",{className:`${r.triggerContainer} ${a?r.dropdownMenuOpen:""}`,children:[o.jsx(C,{className:r.dropdownMenuTrigger,asChild:!0,children:o.jsx(f,{variant:"outline",icon:l==="color"?T:N,minWidth:"120px",value:l==="color"?"Color":"Size",onClick:()=>h(!0),children:o.jsx(O,{className:`${r.chevronIcon} ${i?r.chevronIconRight:r.chevronIconLeft}`})})}),i&&o.jsx("div",{className:r.clearButton,onClick:n=>{n.stopPropagation(),g()},children:o.jsx(v,{icon:x})})]}),o.jsx(M,{align:"start",className:r.dropdownMenuContent,children:c==null?void 0:c.map(n=>o.jsx(j,{className:"capitalize",checked:i===n.optionId,onCheckedChange:()=>I(n.optionId),onSelect:t=>{t.preventDefault()},children:o.jsxs("div",{className:r.dropdownMenuItem,children:[l==="color"&&o.jsx("div",{className:r.dropdownMenuItemColor,style:{backgroundColor:n.optionColor}}),o.jsx("span",{children:n.optionName})]},n.optionId)},n.optionId))})]})})}export{H as G};
