import{j as d,am as re,n as Ue,aM as ze,r as v,_ as q,i as Ge,X as Xe,m as ie,al as ye,an as Ze,Z as Je,aN as Qe}from"./index-INVZ2mfS.js";import{u as Ye,S as et}from"./useAppTranslation-C--sAUS3.js";const N=(e,o,i=!0)=>{if(!e||!o)return;const a=Object.keys(o);return nt(e,a,i)};function tt(e,o){return{...e,...o||{}}}function Ie(e,o){if(!e||!o)return;const i=Array.isArray(o)?o:[o],a=new Set;return i.forEach(l=>Object.keys(l).forEach(c=>a.add(c))),ot(e,Array.from(a))}function nt(e,o,i){const a={};for(const l of o){const c=e[l];i&&(c==null||typeof c=="string"&&c.trim()===""||Array.isArray(c)&&c.length===0||typeof c=="object"&&!Array.isArray(c)&&Object.keys(c).length===0)||(a[l]=c)}return a}function ot(e,o){const i={...e};for(const a of o)delete i[a];return i}const rt="_sheInput_anxrx_1",it="_invalid_anxrx_12",st="_highlighted_anxrx_16",G={sheInput:rt,invalid:it,highlighted:st},lt="_shePrimitiveComponentWrapper_p29vh_1",at="_shePrimitiveComponentWrapperContainer_p29vh_5",ct="_shePrimitiveComponentWrapperControl_p29vh_8",dt="_shePrimitiveComponentWrapperContext_p29vh_15",ut="_iconBlock_p29vh_21",ht="_fullWidth_p29vh_32",ft="_required_p29vh_37",vt="_contextLengthLimits_p29vh_56",mt="_descriptionBlock_p29vh_57",gt="_errorBlock_p29vh_58",_t="_descriptionBlockWithIcon_p29vh_61",pt="_errorBlockWithIcon_p29vh_64",Ct="_clearButton_p29vh_68",xt="_card_p29vh_77",p={shePrimitiveComponentWrapper:lt,shePrimitiveComponentWrapperContainer:at,shePrimitiveComponentWrapperControl:ct,shePrimitiveComponentWrapperContext:dt,iconBlock:ut,fullWidth:ht,required:ft,contextLengthLimits:vt,descriptionBlock:mt,errorBlock:gt,descriptionBlockWithIcon:_t,errorBlockWithIcon:pt,clearButton:Ct,card:xt},yt="_sheLabel_1vugs_1",kt={sheLabel:yt};function Bt({labelClassName:e="",labelStyle:o,label:i,labelTransKey:a,tooltip:l,tooltipTransKey:c,ariaDescribedbyId:h,htmlFor:C}){const g=typeof l=="string"?{text:l,textTransKey:c,side:"right",align:"end"}:l!=null&&l.text||l!=null&&l.title||l!=null&&l.description?{...l,side:l.side||"right",align:l.align||"end"}:null;return!i&&!l?null:d.jsxs("label",{className:`${kt.sheLabel} ${e} she-text`,style:o,htmlFor:h||C,"aria-describedby":h,children:[i&&d.jsx(re,{i18nKey:a,children:i}),g&&d.jsx(Ue,{...g,showDefaultIcon:!0,ariaDescribedbyId:h})]})}const St="_sheSkeletonWrapper_157rw_1",It="_sheSkeleton_157rw_1",Wt="_fullWidth_157rw_10",X={sheSkeletonWrapper:St,sheSkeleton:It,fullWidth:Wt};function We({children:e,skeletonClassName:o="",skeletonStyle:i,skeletonColor:a,isLoading:l,disabled:c,animationDelay:h=0,minWidth:C,maxWidth:g,fullWidth:L}){return d.jsx("div",{className:`${X.sheSkeletonWrapper} ${o} ${L?X.fullWidth:""} ${c?"disabled":""}`,style:{minWidth:C,maxWidth:g,...i},children:l?d.jsx(ze,{className:`${X.sheSkeleton}`,style:{animationDelay:`${h}ms`,backgroundColor:a},children:e}):e})}const Lt="_sheClearButtonWrapper_fk4p6_1",bt="_sheClearButtonSkeleton_fk4p6_5",Et="_sheClearButton_fk4p6_1",Z={sheClearButtonWrapper:Lt,sheClearButtonSkeleton:bt,sheClearButton:Et};function $t({clearBtnClassName:e="",clearBtnStyle:o,clearBtnValue:i,clearBtnValueColor:a,clearBtnBackgroundColor:l,clearBtnIcon:c=Xe,showClearBtn:h,disabled:C,isLoading:g,ariaDescribedbyId:L,clearBtnProps:y,onClear:k}){const[B,S]=v.useState(null),W=i==null||typeof i=="string"&&i.trim().length===0||Array.isArray(i)&&i.length===0;v.useEffect(()=>{!q.isNil(g)&&typeof g=="boolean"&&g!==B&&S(g),y&&!q.isNil(y.isLoading)&&y.isLoading!==B&&setTimeout(()=>S(y.isLoading))},[g,y]);function _(b){b.stopPropagation(),b.preventDefault(),k==null||k(b)}return h?d.jsx("div",{className:`${Z.sheClearButtonWrapper} ${e}`,children:d.jsx(We,{skeletonClassName:`${Z.sheClearButtonSkeleton}`,skeletonStyle:o,isLoading:B,children:d.jsx(Ge,{className:Z.sheClearButton,title:"Clear","aria-label":"Clear",variant:"secondary",size:"small",icon:c,txtColor:a,bgColor:l,"aria-describedby":L,disabled:W||C||B,onClick:_,...y,isLoading:!1})})}):null}const Nt="_sheContextLengthLimits_bx34b_1",Mt="_minMaxBlock_bx34b_1",jt="_lengthInvalid_bx34b_7",J={sheContextLengthLimits:Nt,minMaxBlock:Mt,lengthInvalid:jt};function Pt({contextLengthLimitsClassName:e="",contextLengthLimitsStyle:o,contextLengthLimitsValue:i,isContextLengthLimitsValid:a,minLength:l,maxLength:c,type:h}){const C=i?h==="number"?i:String(i).length:0;return!l&&!c?null:d.jsx("div",{className:`${J.sheContextLengthLimits} ${e} ${a?"":J.lengthInvalid}`,style:o,"aria-live":"polite",children:d.jsxs("div",{className:J.minMaxBlock,children:[l&&d.jsxs("span",{className:"she-subtext",children:["min: ",l]}),d.jsxs("span",{className:"she-subtext",children:["value: ",C]}),c&&d.jsxs("span",{className:"she-subtext",children:["max: ",c]})]})})}const wt="_sheDescriptionBlock_5mdnp_1",Dt="_iconBlock_5mdnp_9",ke={sheDescriptionBlock:wt,iconBlock:Dt};function Tt({descriptionBlockClassName:e="",descriptionBlockStyle:o,description:i,descriptionTransKey:a,hideDescription:l,descriptionIcon:c}){return l||!i||i.length===0?null:d.jsxs("div",{className:`${ke.sheDescriptionBlock} ${e}`,style:o,children:[d.jsx(ie,{className:ke.iconBlock,icon:c}),d.jsx("span",{className:"she-subtext",role:"description",children:d.jsx(re,{i18nKey:a,children:i})})]})}const At="_sheErrorMessageBlock_1lsdt_1",Ft="_iconBlock_1lsdt_10",Be={sheErrorMessageBlock:At,iconBlock:Ft};function Kt({errorMessageBlockClassName:e="",errorMessageBlockStyle:o,errorMessage:i,errorMessageTransKey:a,errorMessageIcon:l,hideErrorMessage:c}){return c||!i||i.length===0?null:d.jsxs("div",{className:`${Be.sheErrorMessageBlock} ${e}`,style:o,children:[d.jsx(ie,{className:Be.iconBlock,icon:l}),d.jsx("span",{className:"she-text-error",role:"alert","aria-live":"assertive",children:d.jsx(re,{i18nKey:a,children:i})})]})}const Q={labelClassName:void 0,labelStyle:void 0,label:void 0,labelTransKey:void 0,tooltip:void 0,tooltipTransKey:void 0,ariaDescribedbyId:void 0,htmlFor:void 0},Y={clearBtnClassName:void 0,clearBtnStyle:void 0,clearBtnValue:void 0,clearBtnValueColor:void 0,clearBtnBackgroundColor:void 0,clearBtnIcon:void 0,showClearBtn:void 0,disabled:void 0,isLoading:void 0,ariaDescribedbyId:void 0,clearBtnProps:void 0,onClear:void 0},ee={skeletonClassName:void 0,skeletonStyle:void 0,skeletonColor:void 0,isLoading:void 0,disabled:void 0,animationDelay:void 0,minWidth:void 0,maxWidth:void 0,fullWidth:void 0},Le={contextLengthLimitsClassName:void 0,contextLengthLimitsStyle:void 0,contextLengthLimitsValue:void 0,isContextLengthLimitsValid:void 0,minLength:void 0,maxLength:void 0,type:void 0},te={errorMessageBlockClassName:void 0,errorMessageBlockStyle:void 0,errorMessage:void 0,errorMessageTransKey:void 0,errorMessageIcon:void 0,hideErrorMessage:void 0},ne={descriptionBlockClassName:void 0,descriptionBlockStyle:void 0,description:void 0,descriptionTransKey:void 0,hideDescription:void 0,descriptionIcon:void 0},oe={...Q,...ee,...Y,...Le,...ne,...te,id:void 0,field:void 0,form:void 0,ignoreFormAction:void 0,className:void 0,style:void 0,minWidth:void 0,maxWidth:void 0,fullWidth:void 0,isLoading:void 0,disable:void 0,required:void 0,ariaDescribedbyId:void 0,clearBtnPosition:void 0,icon:void 0,iconPosition:void 0,iconProps:void 0,view:void 0,onClear:void 0},Se={id:void 0,className:void 0,style:void 0,elementClassName:void 0,elementStyle:void 0,icon:void 0,iconView:void 0,color:void 0,fullWidth:void 0,minWidth:void 0,maxWidth:void 0,minHeight:void 0,maxHeight:void 0,hoverEffect:void 0};function Vt(e){const{id:o,className:i="",style:a,children:l,minWidth:c,maxWidth:h,fullWidth:C,required:g,icon:L,iconPosition:y="in",iconProps:k,showClearBtn:B,clearBtnPosition:S="in",view:W="normal",onClear:_}=e,b=N({...e},Q),j=N({...e,minWidth:void 0,maxWidth:void 0,fullWidth:void 0,style:void 0},ee),E=N({...e,minWidth:void 0,maxWidth:void 0,fullWidth:void 0,style:void 0},Se),$=N({...e},Y),M=N({...e},Le),t=N({...e},ne),n=N({...e},te),f=Ie(e,[oe,Q,ee,Se,Y,ne,te]);function u(I){_==null||_(I)}return d.jsx("div",{id:o,className:`${p.shePrimitiveComponentWrapper} ${i} ${L?y==="in"?"withIconIn":"withIconOut":""} ${B&&S==="in"?"withClearButtonIn":"withClearButtonOut"} ${C?p.fullWidth:""} ${g?p.required:""} ${W==="card"?p.card:""}`,style:{minWidth:c,maxWidth:h,...a},...f,children:d.jsxs("div",{className:p.shePrimitiveComponentWrapperContainer,children:[d.jsx(Bt,{...b}),d.jsxs("div",{className:p.shePrimitiveComponentWrapperControl,children:[d.jsxs(We,{...j,fullWidth:!0,children:[d.jsx(ie,{...tt(E,k),className:`${(k==null?void 0:k.className)??""} ${p.iconBlock}`}),d.jsx("div",{className:p.shePrimitiveComponentWrapperContext,children:l})]}),d.jsx($t,{...$,clearBtnClassName:`${$==null?void 0:$.clearBtnClassName} ${p.clearButton}`,onClear:u})]}),d.jsx(Pt,{...M,contextLengthLimitsClassName:`${M.contextLengthLimitsClassName} ${p.contextLengthLimits}`}),d.jsx(Tt,{...t,descriptionBlockClassName:`${t.descriptionBlockClassName} ${p.descriptionBlock} ${t.descriptionIcon?p.descriptionBlockWithIcon:""}`}),d.jsx(Kt,{...n,errorMessageBlockClassName:`${n.errorMessageBlockClassName} ${p.errorBlock} ${n.errorMessageIcon?p.errorBlockWithIcon:""}`})]})})}var H=(e=>(e.SUBMIT="onSubmit",e.CHANGE="onChange",e.BLUR="onBlur",e))(H||{});const Rt=(e,o=500)=>{const[i,a]=v.useState(e);return v.useEffect(()=>{const l=setTimeout(()=>{a(e)},o);return()=>clearTimeout(l)},[e,o]),i};function qt(e){const o=v.useRef(null);return e||o}const Ht=v.createContext(null),Ot=()=>v.useContext(Ht);function Ut(e){const o=Ot();return{field:(e==null?void 0:e.field)||(o==null?void 0:o.field),form:(e==null?void 0:e.form)||(o==null?void 0:o.form)}}function zt({props:e,identifier:o}={}){const[i,a]=v.useState(null),{translate:l}=Ye(),{field:c,form:h}=Ut(e);v.useEffect(()=>{o!==i&&a(`${ye()}_${o??"component"}_ID`)},[o]);function C(t,n="item",f){return!t||t.length===0?null:t.map((u,I)=>({...u,id:u.id??`${u[n]&&u[n].length>0?u[n].replace(/ /g,"_"):ye(f)}_${(I+1).toString()}`}))}function g(t,n){if(!t||t.length===0)return[];const f=Array.isArray(n)?n:n?[n]:[],{withIcons:u,withColors:I}=Gt(t);return t.map((x,D)=>(x.id=Ze(x.text,D),x.showIconsColumn=u,x.showColorsColumn=I,f&&f.length>0&&(x.isSelected=S(f,x.value)),x))}function L(t,n,f){return!t||t.length===0||!n||n.length===0?null:t.find(u=>u[n]===f)}function y(t){return!t||t.length===0?t:t.filter(n=>n.isSelected)}function k(t,n){const f=Array.isArray(n)?n:[n];return t==null||t.forEach(u=>u.isSelected=S(f,u.value)),t}function B(t,n,f){return t==null?void 0:t.filter(u=>u[n]!==f)}function S(t,n){return t.some(f=>W(f,n))}function W(t,n){if(t===n)return!0;if(t==null||n==null)return t===n;if(Array.isArray(t)&&Array.isArray(n))return t.length!==n.length?!1:t.every((f,u)=>W(f,n[u]));if(typeof t=="object"&&typeof n=="object"){const f=Object.keys(t),u=Object.keys(n);return f.length!==u.length?!1:f.every(I=>W(t[I],n[I]))}return!1}function _(t,n){t&&n&&n.current&&setTimeout(()=>n.current.focus())}function b(t,n){if(!t||!n)return null;requestAnimationFrame(()=>{const f=t.current,u=n.current;!f||!u||!u.offsetParent||(f.style.width=`${u.getBoundingClientRect().width}px`)})}function j(t){switch(t){case"ghost":case"link":case"outline":case"secondary":return"black";default:return"white"}}function E(t,n=!0){if(e.ignoreFormAction)return null;c&&(c.onChange(t),n&&h.trigger(c.name))}function $(t=""){var n;if(e.ignoreFormAction)return null;c&&((n=h==null?void 0:h.resetField)==null||n.call(h,c.name,{keepDirty:!1,keepTouched:!1,defaultValue:t}))}function M(){var t,n;return e.ignoreFormAction?null:((n=(t=h==null?void 0:h.control)==null?void 0:t._options)==null?void 0:n.mode)||H.SUBMIT}return{ariaDescribedbyId:i,translate:l,addItemsId:C,setFocus:_,getSelectedItems:y,updateSelectedItems:k,getItemFromListByIdentifier:L,removeItemFromListByIdentifier:B,isValueInCollection:S,deepEqual:W,initializeItemsList:g,calculatePopoverWidth:b,getContextColorBasedOnVariant:j,updateFormValue:E,resetFormField:$,getFormMode:M}}function Gt(e){let o=!1,i=!1;for(const a of e)if(!o&&a.icon&&(o=!0),!i&&a.colors&&(i=!0),o&&i)break;return{withIcons:o,withColors:i}}const Xt={ref:void 0,value:void 0,placeholder:void 0,placeholderTransKey:void 0,type:void 0,step:void 0,autoFocus:void 0,isSearch:void 0,disabled:void 0,isLoading:void 0,isValid:void 0,ignoreValidation:void 0,showError:void 0,pattern:void 0,patternErrorMessage:void 0,patternErrorMessageTransKey:void 0,delayTime:void 0,showHighlighted:void 0,onIsValid:void 0,onChange:void 0,onBlur:void 0,onDelay:void 0,onClear:void 0};function Qt(e){const{ref:o,icon:i,value:a,placeholder:l="enter text...",placeholderTransKey:c,type:h,step:C,autoFocus:g,isSearch:L,disabled:y,isLoading:k,minLength:B,maxLength:S,required:W,isValid:_=!0,ignoreValidation:b,showError:j=!0,pattern:E,patternErrorMessage:$,patternErrorMessageTransKey:M,delayTime:t,showHighlighted:n,onIsValid:f,onChange:u,onBlur:I,onDelay:x,onClear:D}=e,P=N(e,oe),be=Ie(e,[Xt,oe]),[T,O]=v.useState(null),[se,le]=v.useState(_),[Ee,A]=v.useState(_),[$e,Ne]=v.useState(j),[Me,je]=v.useState(null),[Pe,we]=v.useState(M),[De,ae]=v.useState(null),ce=qt(o),F=v.useRef(!1),w=v.useRef(!1),de=v.useRef(null),ue=v.useRef(null),{translate:Te,ariaDescribedbyId:he,setFocus:Ae,updateFormValue:fe,resetFormField:Fe,getFormMode:ve}=zt({props:e,identifier:"SheInput"}),Ke=i||L&&et,K=Rt(T,t);v.useEffect(()=>{ae(!1),ue.current=a,a!==T&&(w.current=!0,O(a),V(a))},[a]),v.useEffect(()=>{F.current&&x&&x(K,{value:K,model:{...e,value:K,isValid:se},event:de.current})},[K]),v.useEffect(()=>{le(_),_&&(F.current=!1,w.current=!1,A(!0),R(!1))},[_]);function me(r){F.current=!0,de.current=r;let s=ge(r.target.value);s=pe(s);const m=V(s);ve()!==H.BLUR&&fe(s),O(s),u==null||u(s,{value:s,model:{...e,value:s,isValid:m},event:r})}function Ve(r){w.current=!0;let s=ge(r.target.value);s=pe(s);const m=V(s);ve()===H.BLUR&&fe(s),ae(!q.isEqual(ue.current,s)),I==null||I(s,{value:s,model:{...e,value:s,isValid:m},event:r})}function Re(r){F.current=!1,w.current=!1,_e(!0),A(!0),R(!1),Fe();const s="";O(s),V(s),Ae(g,ce);const m={value:null,model:e,event:r};u==null||u(null,m),x==null||x(null,m),D==null||D(null,m)}function ge(r){return typeof r=="string"&&r.length>0&&(r=r[0]===" "?r.slice(1):r,r=r.replace(/\s+/g," ")),r}function V(r){if(b||!w.current)return!0;let s=!0;return s=qe(r,s),s=He(r,s),s=Oe(r,s),_e(s),s}function _e(r){f==null||f(r),le(r)}function pe(r){if(h!=="number"&&r.length===0)return"";if(h==="number"){if(r===""||r===null||r===void 0)return"";const s=parseFloat(r);return isNaN(s)?"":s}return r}function qe(r,s){if(!W||!s||!w.current)return s;const m=h!=="number"?(r==null?void 0:r.length)>0:!0;return m||A(!1),U(m,"context is required","REPLACE.ME"),m}function He(r,s){if(!B&&!S||!s)return A(!0),s;const m=h==="number"?r:r==null?void 0:r.toString().trim().length,Ce=typeof B=="number"?m>=B:!0,xe=typeof S=="number"?m<=S:!0,z=Ce&&xe;return A(z),U(z,"value length not valid","REPLACE.ME"),z}function Oe(r,s){if(!E||E.length===0||!s)return s;if(!Je.isRegExp(E))return!1;const m=E.test(r);return U(m,$||"error pattern validation",M||"REPLACE.ME"),m}function U(r,s,m){r?R(!1):R(!0,s,m)}function R(r,s,m){j&&r&&Ne(r),je(s),we(m)}return d.jsx(Vt,{...P,className:`${P.className} ${G.sheInput} ${n&&De?G.highlighted:""} ${se?"":G.invalid}`,icon:Ke,clearBtnValue:T,ariaDescribedbyId:he,contextLengthLimitsValue:T,isContextLengthLimitsValid:Ee,errorMessage:P.errorMessage??Me,errorMessageTransKey:P.errorMessageTransKey??Pe,hideErrorMessage:q.isNil(P.hideErrorMessage)?!$e:P.hideErrorMessage,onClear:Re,children:d.jsx(Qe,{className:"componentTriggerElement",ref:ce,value:T??"",placeholder:Te(c,{},l),type:h,step:C,autoFocus:g,"aria-invalid":!_,"aria-describedby":he,disabled:y||k,onKeyDown:me,onChange:me,onBlur:Ve,...be})})}export{H as R,Qt as S,Vt as a,oe as b,We as c,qt as d,Ht as e,Rt as f,N as g,Ie as r,zt as u};
