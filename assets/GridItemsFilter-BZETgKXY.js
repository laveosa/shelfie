import{r as g,j as n,K as D,L as b,e as I,f as C,X as M,Q as y,am as F,an as j,ao as T}from"./index-v5GGPS6e.js";import{u as E}from"./SheGrid-C6cojZjL.js";import{S as G}from"./settings-2-Bxi9_zd_.js";import{C as P}from"./chevron-up-DlhFtVmB.js";const $="_gridItemsFilterWrapper_185ga_1",L="_triggerContainer_185ga_1",O="_clearButton_185ga_5",A="_dropdownMenuTriggerButton_185ga_24",H="_buttonInnerItems_185ga_30",z="_columnName_185ga_36",K="_columnNameWithIds_185ga_40",Q="_settingsIcon_185ga_47",X="_chevronIcon_185ga_51",J="_chevronIconWithSelectedIds_185ga_56",U="_dropdownMenuContent_185ga_66",V="_itemsContainer_185ga_74",Y="_buttonBlock_185ga_78",o={gridItemsFilterWrapper:$,triggerContainer:L,clearButton:O,dropdownMenuTriggerButton:A,buttonInnerItems:H,columnName:z,columnNameWithIds:K,settingsIcon:Q,chevronIcon:X,chevronIconWithSelectedIds:J,dropdownMenuContent:U,itemsContainer:V,buttonBlock:Y};function en({items:p,columnName:c,selected:i,identifier:l,getId:m,getName:v,icon:f}){const[s,u]=g.useState([]),[w,h]=g.useState(!1),[N,_]=g.useState([]),{onGridRequestChange:d,gridRequestModel:t}=E();g.useEffect(()=>{(i==null?void 0:i.length)>=0&&u(i||[])},[i]);const S=(e,r)=>e.length!==r.length?!1:e.every(a=>r.includes(a))&&r.every(a=>e.includes(a));function B(e){u(r=>r.includes(e)?r.filter(a=>a!==e):[...r,e])}function k(){u([]),_([]),d({...t,currentPage:1,filter:{...t==null?void 0:t.filter,[l||c]:[]}}),h(!1)}function W(){u([]),_([]),d({...t,currentPage:1,filter:{...t==null?void 0:t.filter,[l||c]:[]}})}function x(){s.length>0&&d({...t,filter:{...t==null?void 0:t.filter,[l||c]:s}}),h(!1)}return n.jsx("div",{className:o.gridItemsFilterWrapper,children:n.jsxs(D,{open:w,onOpenChange:e=>{e?_([...s]):!S(s,N)&&(s.length>0?x():d({...t,currentPage:1,filter:{...t==null?void 0:t.filter,[l||c]:[]}})),h(e)},children:[n.jsxs("div",{className:o.triggerContainer,children:[n.jsx(b,{asChild:!0,children:n.jsx(I,{className:o.dropdownMenuTriggerButton,variant:"outline",disabled:!p||p.length===0,onClick:()=>h(!0),children:n.jsxs("div",{className:o.buttonInnerItems,children:[(s==null?void 0:s.length)>0?n.jsx("span",{children:s.length}):f?n.jsx(C,{icon:f,className:o.settingsIcon}):n.jsx(G,{className:o.settingsIcon}),n.jsx("span",{className:(s==null?void 0:s.length)>0?o.columnNameWithIds:o.columnName,children:c}),n.jsx(P,{className:s.length===0?o.chevronIcon:`${o.chevronIcon} ${o.chevronIconWithSelectedIds}`})]})})}),s.length>0&&n.jsx("div",{className:o.clearButton,onClick:e=>{e.stopPropagation(),k()},children:n.jsx(C,{icon:M})})]}),n.jsxs(y,{align:"start",className:o.dropdownMenuContent,children:[n.jsxs("div",{className:o.itemsList,children:[n.jsx(F,{children:c}),n.jsx(j,{}),n.jsx("div",{className:o.itemsContainer,children:p.map((e,r)=>n.jsx(T,{className:"capitalize",checked:s.includes(m(e)),onCheckedChange:()=>B(m(e)),onSelect:a=>{a.preventDefault()},children:v(e)},`${m(e)}-${r}`))}),n.jsx(j,{})]}),n.jsxs("div",{className:o.buttonBlock,children:[n.jsx(I,{onClick:W,variant:"outline",value:"Default"}),n.jsx(I,{onClick:x,value:"Apply"})]})]})]})})}export{en as G};
