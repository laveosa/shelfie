import{r as g,j as e,y as w,z as x,i as v,m as j,X as k,B as M,bm as T}from"./index-Cw1axte0.js";import{u as N}from"./SheGrid-En_vYHu8.js";import{P as y,a as O}from"./trash-CCSUe94n.js";import{C as S}from"./chevron-up-B1noOLu8.js";const D="_gridTraitsFilterWrapper_1yhkg_1",B="_triggerContainer_1yhkg_6",F="_clearButton_1yhkg_10",W="_dropdownMenuTrigger_1yhkg_29",G="_chevronIconLeft_1yhkg_41",L="_chevronIconRight_1yhkg_44",b="_dropdownMenuContent_1yhkg_48",z="_dropdownMenuItem_1yhkg_52",E="_dropdownMenuItemColor_1yhkg_57",t={gridTraitsFilterWrapper:D,triggerContainer:B,clearButton:F,dropdownMenuTrigger:W,chevronIconLeft:G,chevronIconRight:L,dropdownMenuContent:b,dropdownMenuItem:z,dropdownMenuItemColor:E};function H({traitOptions:i,traitType:d}){var m;const{onGridRequestChange:f,gridRequestModel:n}=N(),[a,l]=g.useState(),[p,h]=g.useState(!1);g.useEffect(()=>{var o,r;if(!p&&((r=(o=n==null?void 0:n.filter)==null?void 0:o.traitOptions)==null?void 0:r.length)>0){const s=i.find(c=>n.filter.traitOptions.includes(c.optionId));s&&l(s.optionId)}},[(m=n==null?void 0:n.filter)==null?void 0:m.traitOptions,i,p]);function _(o){var C;l(o);const r=i.map(u=>u.optionId),c=[...(((C=n==null?void 0:n.filter)==null?void 0:C.traitOptions)||[]).filter(u=>!r.includes(u)),o];f({...n,filter:{...n==null?void 0:n.filter,traitOptions:c}}),h(!1)}function I(){var r,s;if(!n)return;const o=((s=(r=n.filter)==null?void 0:r.traitOptions)==null?void 0:s.filter(c=>c!==a))||[];f({...n,filter:{...n.filter,traitOptions:o}}),l(null)}return e.jsx("div",{className:t.gridTraitsFilterWrapper,children:e.jsxs(w,{open:p,onOpenChange:h,children:[e.jsxs("div",{className:t.triggerContainer,children:[e.jsx(x,{className:t.dropdownMenuTrigger,asChild:!0,children:e.jsx(v,{variant:"outline",icon:d==="color"?y:O,minWidth:"120px",value:d==="color"?"Color":"Size",onClick:()=>h(!0),children:e.jsx(S,{className:a?t.chevronIconRight:t.chevronIconLeft})})}),a&&e.jsx("div",{className:t.clearButton,onClick:o=>{o.stopPropagation(),I()},children:e.jsx(j,{icon:k})})]}),e.jsx(M,{align:"start",className:t.dropdownMenuContent,children:i==null?void 0:i.map(o=>e.jsx(T,{className:"capitalize",checked:a===o.optionId,onCheckedChange:()=>_(o.optionId),onSelect:r=>{r.preventDefault()},children:e.jsxs("div",{className:t.dropdownMenuItem,children:[d==="color"&&e.jsx("div",{className:t.dropdownMenuItemColor,style:{backgroundColor:o.optionColor}}),e.jsx("span",{children:o.optionName})]},o.optionId)},o.optionId))})]})})}export{H as G};
