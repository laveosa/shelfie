import{r as g,j as e,K as w,L as x,e as v,f as j,X as k,Q as M,ao as T}from"./index-BBiTGp2l.js";import{u as N}from"./SheGrid-DHwVV7yl.js";import{P as y,a as O}from"./trash-7-jcBovI.js";import{C as S}from"./chevron-up-PMr9CyG7.js";const D="_gridTraitsFilterWrapper_1yhkg_1",F="_triggerContainer_1yhkg_6",B="_clearButton_1yhkg_10",L="_dropdownMenuTrigger_1yhkg_29",W="_chevronIconLeft_1yhkg_41",G="_chevronIconRight_1yhkg_44",E="_dropdownMenuContent_1yhkg_48",P="_dropdownMenuItem_1yhkg_52",b="_dropdownMenuItemColor_1yhkg_57",t={gridTraitsFilterWrapper:D,triggerContainer:F,clearButton:B,dropdownMenuTrigger:L,chevronIconLeft:W,chevronIconRight:G,dropdownMenuContent:E,dropdownMenuItem:P,dropdownMenuItemColor:b};function X({traitOptions:i,traitType:d}){var C;const{onGridRequestChange:f,gridRequestModel:n}=N(),[a,l]=g.useState(),[p,h]=g.useState(!1);g.useEffect(()=>{var o,r;if(!p&&((r=(o=n==null?void 0:n.filter)==null?void 0:o.traitOptions)==null?void 0:r.length)>0){const s=i.find(c=>n.filter.traitOptions.includes(c.optionId));s&&l(s.optionId)}},[(C=n==null?void 0:n.filter)==null?void 0:C.traitOptions,i,p]);function _(o){var m;l(o);const r=i.map(u=>u.optionId),c=[...(((m=n==null?void 0:n.filter)==null?void 0:m.traitOptions)||[]).filter(u=>!r.includes(u)),o];f({...n,filter:{...n==null?void 0:n.filter,traitOptions:c}}),h(!1)}function I(){var r,s;if(!n)return;const o=((s=(r=n.filter)==null?void 0:r.traitOptions)==null?void 0:s.filter(c=>c!==a))||[];f({...n,filter:{...n.filter,traitOptions:o}}),l(null)}return e.jsx("div",{className:t.gridTraitsFilterWrapper,children:e.jsxs(w,{open:p,onOpenChange:h,children:[e.jsxs("div",{className:t.triggerContainer,children:[e.jsx(x,{className:t.dropdownMenuTrigger,asChild:!0,children:e.jsx(v,{variant:"outline",icon:d==="color"?y:O,minWidth:"120px",value:d==="color"?"Color":"Size",onClick:()=>h(!0),children:e.jsx(S,{className:a?t.chevronIconRight:t.chevronIconLeft})})}),a&&e.jsx("div",{className:t.clearButton,onClick:o=>{o.stopPropagation(),I()},children:e.jsx(j,{icon:k})})]}),e.jsx(M,{align:"start",className:t.dropdownMenuContent,children:i==null?void 0:i.map(o=>e.jsx(T,{className:"capitalize",checked:a===o.optionId,onCheckedChange:()=>_(o.optionId),onSelect:r=>{r.preventDefault()},children:e.jsxs("div",{className:t.dropdownMenuItem,children:[d==="color"&&e.jsx("div",{className:t.dropdownMenuItemColor,style:{backgroundColor:o.optionColor}}),e.jsx("span",{children:o.optionName})]},o.optionId)},o.optionId))})]})})}export{X as G};
