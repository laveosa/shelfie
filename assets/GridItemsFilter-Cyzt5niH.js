import{r as d,j as n,L as k,Q as W,e as _,f as x,X as D,V as b,am as O,an as C,ao as $}from"./index-DybU9lv3.js";import{u as y}from"./SheGrid-DvAOS33I.js";import{S as F}from"./settings-2-JTaowDGi.js";import{C as T}from"./chevron-up-C7ChJr01.js";const E="_gridItemsFilterWrapper_l57zf_1",G="_triggerContainer_l57zf_1",A="_clearButton_l57zf_5",H="_dropdownMenuTriggerButton_l57zf_24",L="_buttonInnerItems_l57zf_29",P="_columnName_l57zf_37",R="_columnNameWithIds_l57zf_41",q="_settingsIcon_l57zf_48",Q="_chevronIcon_l57zf_52",V="_chevronIconWithSelectedIds_l57zf_57",X="_dropdownMenuContent_l57zf_65",J="_itemsContainer_l57zf_73",K="_buttonBlock_l57zf_77",U="_selectedIdx_l57zf_94",Y="_dropdownMenuOpen_l57zf_97",t={gridItemsFilterWrapper:E,triggerContainer:G,clearButton:A,dropdownMenuTriggerButton:H,buttonInnerItems:L,columnName:P,columnNameWithIds:R,settingsIcon:q,chevronIcon:Q,chevronIconWithSelectedIds:V,dropdownMenuContent:X,itemsContainer:J,buttonBlock:K,selectedIdx:U,dropdownMenuOpen:Y};function on({items:u,columnName:h,selected:l,identifier:j,getId:p,getName:v,icon:f}){const[o,c]=d.useState([]),[g,a]=d.useState(!1),[w,m]=d.useState([]),{onGridRequestChange:N,gridRequestModel:i}=y();d.useEffect(()=>{(l==null?void 0:l.length)>=0&&c(l||[])},[l]);const M=(e,s)=>e.length!==s.length?!1:e.every(r=>s.includes(r))&&s.every(r=>e.includes(r));function S(e){c(s=>s.includes(e)?s.filter(r=>r!==e):[...s,e])}function z(){c([]),m([]),a(!1)}function B(){c([]),m([])}function I(){o.length>0,a(!1)}return n.jsx("div",{className:t.gridItemsFilterWrapper,children:n.jsxs(k,{open:g,onOpenChange:e=>{e?m([...o]):!M(o,w)&&(o.length>0?I():N({...i,currentPage:1,filter:{...i==null?void 0:i.filter,[j||h]:[]}})),a(e)},children:[n.jsxs("div",{className:`${t.triggerContainer} ${g?t.dropdownMenuOpen:""}`,children:[n.jsx(W,{asChild:!0,children:n.jsx(_,{className:t.dropdownMenuTriggerButton,variant:"outline",disabled:!u||u.length===0,onClick:()=>a(!0),children:n.jsxs("div",{className:t.buttonInnerItems,children:[(o==null?void 0:o.length)>0?n.jsx("span",{className:t.selectedIdx,children:o.length}):f?n.jsx(x,{icon:f,className:t.settingsIcon}):n.jsx(F,{className:t.settingsIcon}),n.jsx("span",{className:(o==null?void 0:o.length)>0?t.columnNameWithIds:t.columnName,children:h}),n.jsx(T,{className:`${t.chevronIcon} ${o.length>0?t.chevronIconWithSelectedIds:""}`})]})})}),o.length>0&&n.jsx("div",{className:t.clearButton,onClick:e=>{e.stopPropagation(),z()},children:n.jsx(x,{icon:D})})]}),n.jsxs(b,{align:"start",className:t.dropdownMenuContent,children:[n.jsxs("div",{children:[n.jsx(O,{children:h}),n.jsx(C,{}),n.jsx("div",{className:t.itemsContainer,children:u.map((e,s)=>n.jsx($,{className:"capitalize",checked:o.includes(p(e)),onCheckedChange:()=>S(p(e)),onSelect:r=>{r.preventDefault()},children:v(e)},`${p(e)}-${s}`))}),n.jsx(C,{})]}),n.jsxs("div",{className:t.buttonBlock,children:[n.jsx(_,{onClick:B,variant:"outline",value:"Default"}),n.jsx(_,{onClick:I,value:"Apply"})]})]})]})})}export{on as G};
