import{r as w,j as o,L as f,Q as C,e as m,f as v,X as x,V as M,ao as j}from"./index-DybU9lv3.js";import{u as b}from"./SheGrid-DvAOS33I.js";import{P as T,a as N}from"./trash-CFfYG3xN.js";import{C as O}from"./chevron-up-C7ChJr01.js";const S="_gridTraitsFilterWrapper_b5hhw_1",D="_triggerContainer_b5hhw_6",k="_clearButton_b5hhw_10",F="_dropdownMenuTrigger_b5hhw_29",B="_chevronIcon_b5hhw_38",L="_chevronIconLeft_b5hhw_41",W="_chevronIconRight_b5hhw_44",G="_dropdownMenuContent_b5hhw_48",$="_dropdownMenuItem_b5hhw_52",E="_dropdownMenuItemColor_b5hhw_57",P="_dropdownMenuOpen_b5hhw_63",r={gridTraitsFilterWrapper:S,triggerContainer:D,clearButton:k,dropdownMenuTrigger:F,chevronIcon:B,chevronIconLeft:L,chevronIconRight:W,dropdownMenuContent:G,dropdownMenuItem:$,dropdownMenuItemColor:E,dropdownMenuOpen:P};function A({traitOptions:c,traitType:l}){var _;const{onGridRequestChange:V,gridRequestModel:e}=b(),[i,p]=w.useState(),[a,h]=w.useState(!1);w.useEffect(()=>{var n,t;if(!a&&((t=(n=e==null?void 0:e.filter)==null?void 0:n.traitOptions)==null?void 0:t.length)>0){const s=c.find(d=>e.filter.traitOptions.includes(d.optionId));s&&p(s.optionId)}},[(_=e==null?void 0:e.filter)==null?void 0:_.traitOptions,c,a]);function I(n){var d;p(n);const t=c.map(u=>u.optionId);[...(((d=e==null?void 0:e.filter)==null?void 0:d.traitOptions)||[]).filter(u=>!t.includes(u))],h(!1)}function g(){var n,t;e&&((t=(n=e.filter)==null?void 0:n.traitOptions)!=null&&t.filter(s=>s!==i),p(null))}return o.jsx("div",{className:r.gridTraitsFilterWrapper,children:o.jsxs(f,{open:a,onOpenChange:h,children:[o.jsxs("div",{className:`${r.triggerContainer} ${a?r.dropdownMenuOpen:""}`,children:[o.jsx(C,{className:r.dropdownMenuTrigger,asChild:!0,children:o.jsx(m,{variant:"outline",icon:l==="color"?T:N,minWidth:"120px",value:l==="color"?"Color":"Size",onClick:()=>h(!0),children:o.jsx(O,{className:`${r.chevronIcon} ${i?r.chevronIconRight:r.chevronIconLeft}`})})}),i&&o.jsx("div",{className:r.clearButton,onClick:n=>{n.stopPropagation(),g()},children:o.jsx(v,{icon:x})})]}),o.jsx(M,{align:"start",className:r.dropdownMenuContent,children:c==null?void 0:c.map(n=>o.jsx(j,{className:"capitalize",checked:i===n.optionId,onCheckedChange:()=>I(n.optionId),onSelect:t=>{t.preventDefault()},children:o.jsxs("div",{className:r.dropdownMenuItem,children:[l==="color"&&o.jsx("div",{className:r.dropdownMenuItemColor,style:{backgroundColor:n.optionColor}}),o.jsx("span",{children:n.optionName})]},n.optionId)},n.optionId))})]})})}export{A as G};
