import{R as b,r as K,j as ee,P as Nt,b as he,b4 as Tt,b5 as It}from"./index-DybU9lv3.js";var ve=e=>e.type==="checkbox",le=e=>e instanceof Date,W=e=>e==null;const ot=e=>typeof e=="object";var N=e=>!W(e)&&!Array.isArray(e)&&ot(e)&&!le(e),ut=e=>N(e)&&e.target?ve(e.target)?e.target.checked:e.target.value:e,Ut=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dt=(e,s)=>e.has(Ut(s)),Pt=e=>{const s=e.constructor&&e.constructor.prototype;return N(s)&&s.hasOwnProperty("isPrototypeOf")},Ne=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let s;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Ne&&(e instanceof Blob||i))&&(t||N(e)))if(s=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Pt(e))s=e;else for(const l in e)e.hasOwnProperty(l)&&(s[l]=T(e[l]));else return e;return s}var we=e=>/^\w*$/.test(e),M=e=>e===void 0,Te=e=>Array.isArray(e)?e.filter(Boolean):[],Ie=e=>Te(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,t)=>{if(!s||!N(e))return t;const i=(we(s)?[s]:Ie(s)).reduce((l,n)=>W(l)?l:l[n],e);return M(i)||i===e?M(e[s])?t:e[s]:i},q=e=>typeof e=="boolean",D=(e,s,t)=>{let i=-1;const l=we(s)?[s]:Ie(s),n=l.length,d=n-1;for(;++i<n;){const c=l[i];let k=t;if(i!==d){const R=e[c];k=N(R)||Array.isArray(R)?R:isNaN(+l[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=k,e=e[c]}};const Fe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Y={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},re={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ue=b.createContext(null);Ue.displayName="HookFormContext";const Ae=()=>b.useContext(Ue),Bt=e=>{const{children:s,...t}=e;return b.createElement(Ue.Provider,{value:t},s)};var ft=(e,s,t,i=!0)=>{const l={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(l,n,{get:()=>{const d=n;return s._proxyFormState[d]!==Y.all&&(s._proxyFormState[d]=!i||Y.all),t&&(t[d]=!0),e[d]}});return l};const Pe=typeof window<"u"?b.useLayoutEffect:b.useEffect;function pt(e){const s=Ae(),{control:t=s.control,disabled:i,name:l,exact:n}=e||{},[d,c]=b.useState(t._formState),k=b.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Pe(()=>t._subscribe({name:l,formState:k.current,exact:n,callback:R=>{!i&&c({...t._formState,...R})}}),[l,i,n]),b.useEffect(()=>{k.current.isValid&&t._setValid(!0)},[t]),b.useMemo(()=>ft(d,t,k.current,!1),[d,t])}var $=e=>typeof e=="string",ct=(e,s,t,i,l)=>$(e)?(i&&s.watch.add(e),y(t,e,l)):Array.isArray(e)?e.map(n=>(i&&s.watch.add(n),y(t,n))):(i&&(s.watchAll=!0),t),Le=e=>W(e)||!ot(e);function se(e,s,t=new WeakSet){if(Le(e)||Le(s))return e===s;if(le(e)&&le(s))return e.getTime()===s.getTime();const i=Object.keys(e),l=Object.keys(s);if(i.length!==l.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const n of i){const d=e[n];if(!l.includes(n))return!1;if(n!=="ref"){const c=s[n];if(le(d)&&le(c)||N(d)&&N(c)||Array.isArray(d)&&Array.isArray(c)?!se(d,c,t):d!==c)return!1}}return!0}function Wt(e){const s=Ae(),{control:t=s.control,name:i,defaultValue:l,disabled:n,exact:d,compute:c}=e||{},k=b.useRef(l),R=b.useRef(c),v=b.useRef(void 0);R.current=c;const V=b.useMemo(()=>t._getWatch(i,k.current),[t,i]),[h,z]=b.useState(R.current?R.current(V):V);return Pe(()=>t._subscribe({name:i,formState:{values:!0},exact:d,callback:j=>{if(!n){const E=ct(i,t._names,j.values||t._formValues,!1,k.current);if(R.current){const U=R.current(E);se(U,v.current)||(z(U),v.current=U)}else z(E)}}}),[t,n,i,d]),b.useEffect(()=>t._removeUnmounted()),h}function jt(e){const s=Ae(),{name:t,disabled:i,control:l=s.control,shouldUnregister:n,defaultValue:d}=e,c=dt(l._names.array,t),k=b.useMemo(()=>y(l._formValues,t,y(l._defaultValues,t,d)),[l,t,d]),R=Wt({control:l,name:t,defaultValue:k,exact:!0}),v=pt({control:l,name:t,exact:!0}),V=b.useRef(e),h=b.useRef(void 0),z=b.useRef(l.register(t,{...e.rules,value:R,...q(e.disabled)?{disabled:e.disabled}:{}}));V.current=e;const j=b.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(v.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(v.validatingFields,t)},error:{enumerable:!0,get:()=>y(v.errors,t)}}),[v,t]),E=b.useCallback(C=>z.current.onChange({target:{value:ut(C),name:t},type:Fe.CHANGE}),[t]),U=b.useCallback(()=>z.current.onBlur({target:{value:y(l._formValues,t),name:t},type:Fe.BLUR}),[t,l._formValues]),oe=b.useCallback(C=>{const I=y(l._fields,t);I&&C&&(I._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:S=>C.setCustomValidity(S),reportValidity:()=>C.reportValidity()})},[l._fields,t]),_=b.useMemo(()=>({name:t,value:R,...q(i)||v.disabled?{disabled:v.disabled||i}:{},onChange:E,onBlur:U,ref:oe}),[t,i,v.disabled,E,U,oe,R]);return b.useEffect(()=>{const C=l._options.shouldUnregister||n,I=h.current;I&&I!==t&&!c&&l.unregister(I),l.register(t,{...V.current.rules,...q(V.current.disabled)?{disabled:V.current.disabled}:{}});const S=(te,Q)=>{const ae=y(l._fields,te);ae&&ae._f&&(ae._f.mount=Q)};if(S(t,!0),C){const te=T(y(l._options.defaultValues,t,V.current.defaultValue));D(l._defaultValues,t,te),M(y(l._formValues,t))&&D(l._formValues,t,te)}return!c&&l.register(t),h.current=t,()=>{(c?C&&!l._state.action:C)?l.unregister(t):S(t,!1)}},[t,l,c,n]),b.useEffect(()=>{l._setDisabledField({disabled:i,name:t})},[i,t,l]),b.useMemo(()=>({field:_,formState:v,fieldState:j}),[_,v,j])}const qt=e=>e.render(jt(e));var $t=(e,s,t,i,l)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:l||!0}}:{},ge=e=>Array.isArray(e)?e:[e],Qe=()=>{let e=[];return{get observers(){return e},next:l=>{for(const n of e)n.next&&n.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(n=>n!==l)}}),unsubscribe:()=>{e=[]}}};function yt(e,s){const t={};for(const i in e)if(e.hasOwnProperty(i)){const l=e[i],n=s[i];if(l&&N(l)&&n){const d=yt(l,n);N(d)&&(t[i]=d)}else e[i]&&(t[i]=n)}return t}var p=e=>N(e)&&!Object.keys(e).length,Be=e=>e.type==="file",J=e=>typeof e=="function",Ve=e=>{if(!Ne)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},gt=e=>e.type==="select-multiple",pe=e=>e.type==="radio",Ht=e=>pe(e)||ve(e),Me=e=>Ve(e)&&e.isConnected;function Kt(e,s){const t=s.slice(0,-1).length;let i=0;for(;i<t;)e=M(e)?i++:e[s[i++]];return e}function zt(e){for(const s in e)if(e.hasOwnProperty(s)&&!M(e[s]))return!1;return!0}function O(e,s){const t=Array.isArray(s)?s:we(s)?[s]:Ie(s),i=t.length===1?e:Kt(e,t),l=t.length-1,n=t[l];return i&&delete i[n],l!==0&&(N(i)&&p(i)||Array.isArray(i)&&zt(i))&&O(e,t.slice(0,-1)),e}var Gt=e=>{for(const s in e)if(J(e[s]))return!0;return!1};function mt(e){return Array.isArray(e)||N(e)&&!Gt(e)}function Oe(e,s={}){for(const t in e)mt(e[t])?(s[t]=Array.isArray(e[t])?[]:{},Oe(e[t],s[t])):M(e[t])||(s[t]=!0);return s}function fe(e,s,t){t||(t=Oe(s));for(const i in e)mt(e[i])?M(s)||Le(t[i])?t[i]=Oe(e[i],Array.isArray(e[i])?[]:{}):fe(e[i],W(s)?{}:s[i],t[i]):t[i]=!se(e[i],s[i]);return t}const Xe={value:!1,isValid:!1},Ze={value:!0,isValid:!0};var ht=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!M(e[0].attributes.value)?M(e[0].value)||e[0].value===""?Ze:{value:e[0].value,isValid:!0}:Ze:Xe}return Xe},vt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:i})=>M(e)?e:s?e===""?NaN:e&&+e:t&&$(e)?new Date(e):i?i(e):e;const et={isValid:!1,value:null};var bt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,et):et;function tt(e){const s=e.ref;return Be(s)?s.files:pe(s)?bt(e.refs).value:gt(s)?[...s.selectedOptions].map(({value:t})=>t):ve(s)?ht(e.refs).value:vt(M(s.value)?e.ref.value:s.value,e)}var Yt=(e,s,t,i)=>{const l={};for(const n of e){const d=y(s,n);d&&D(l,n,d._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:i}},xe=e=>e instanceof RegExp,ye=e=>M(e)?e:xe(e)?e.source:N(e)?xe(e.value)?e.value.source:e.value:e,rt=e=>({isOnSubmit:!e||e===Y.onSubmit,isOnBlur:e===Y.onBlur,isOnChange:e===Y.onChange,isOnAll:e===Y.all,isOnTouch:e===Y.onTouched});const st="AsyncFunction";var Jt=e=>!!e&&!!e.validate&&!!(J(e.validate)&&e.validate.constructor.name===st||N(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===st)),Qt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),it=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const me=(e,s,t,i)=>{for(const l of t||Object.keys(e)){const n=y(e,l);if(n){const{_f:d,...c}=n;if(d){if(d.refs&&d.refs[0]&&s(d.refs[0],l)&&!i)return!0;if(d.ref&&s(d.ref,d.name)&&!i)return!0;if(me(c,s))break}else if(N(c)&&me(c,s))break}}};function at(e,s,t){const i=y(e,t);if(i||we(t))return{error:i,name:t};const l=t.split(".");for(;l.length;){const n=l.join("."),d=y(s,n),c=y(e,n);if(d&&!Array.isArray(d)&&t!==n)return{name:t};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};l.pop()}return{name:t}}var Xt=(e,s,t,i)=>{t(e);const{name:l,...n}=e;return p(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(d=>s[d]===(!i||Y.all))},Zt=(e,s,t)=>!e||!s||e===s||ge(e).some(i=>i&&(t?i===s:i.startsWith(s)||s.startsWith(i))),er=(e,s,t,i,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(s||e):(t?i.isOnBlur:l.isOnBlur)?!e:(t?i.isOnChange:l.isOnChange)?e:!0,tr=(e,s)=>!Te(y(e,s)).length&&O(e,s),rr=(e,s,t)=>{const i=ge(y(e,t));return D(i,"root",s[t]),D(e,t,i),e};function nt(e,s,t="validate"){if($(e)||Array.isArray(e)&&e.every($)||q(e)&&!e)return{type:t,message:$(e)?e:"",ref:s}}var de=e=>N(e)&&!xe(e)?e:{value:e,message:""},lt=async(e,s,t,i,l,n)=>{const{ref:d,refs:c,required:k,maxLength:R,minLength:v,min:V,max:h,pattern:z,validate:j,name:E,valueAsNumber:U,mount:oe}=e._f,_=y(t,E);if(!oe||s.has(E))return{};const C=c?c[0]:d,I=F=>{l&&C.reportValidity&&(C.setCustomValidity(q(F)?"":F||""),C.reportValidity())},S={},te=pe(d),Q=ve(d),ae=te||Q,G=(U||Be(d))&&M(d.value)&&M(_)||Ve(d)&&d.value===""||_===""||Array.isArray(_)&&!_.length,ne=$t.bind(null,E,i,S),X=(F,w,L,P=re.maxLength,B=re.minLength)=>{const Z=F?w:L;S[E]={type:F?P:B,message:Z,ref:d,...ne(F?P:B,Z)}};if(n?!Array.isArray(_)||!_.length:k&&(!ae&&(G||W(_))||q(_)&&!_||Q&&!ht(c).isValid||te&&!bt(c).isValid)){const{value:F,message:w}=$(k)?{value:!!k,message:k}:de(k);if(F&&(S[E]={type:re.required,message:w,ref:C,...ne(re.required,w)},!i))return I(w),S}if(!G&&(!W(V)||!W(h))){let F,w;const L=de(h),P=de(V);if(!W(_)&&!isNaN(_)){const B=d.valueAsNumber||_&&+_;W(L.value)||(F=B>L.value),W(P.value)||(w=B<P.value)}else{const B=d.valueAsDate||new Date(_),Z=be=>new Date(new Date().toDateString()+" "+be),ce=d.type=="time",ue=d.type=="week";$(L.value)&&_&&(F=ce?Z(_)>Z(L.value):ue?_>L.value:B>new Date(L.value)),$(P.value)&&_&&(w=ce?Z(_)<Z(P.value):ue?_<P.value:B<new Date(P.value))}if((F||w)&&(X(!!F,L.message,P.message,re.max,re.min),!i))return I(S[E].message),S}if((R||v)&&!G&&($(_)||n&&Array.isArray(_))){const F=de(R),w=de(v),L=!W(F.value)&&_.length>+F.value,P=!W(w.value)&&_.length<+w.value;if((L||P)&&(X(L,F.message,w.message),!i))return I(S[E].message),S}if(z&&!G&&$(_)){const{value:F,message:w}=de(z);if(xe(F)&&!_.match(F)&&(S[E]={type:re.pattern,message:w,ref:d,...ne(re.pattern,w)},!i))return I(w),S}if(j){if(J(j)){const F=await j(_,t),w=nt(F,C);if(w&&(S[E]={...w,...ne(re.validate,w.message)},!i))return I(w.message),S}else if(N(j)){let F={};for(const w in j){if(!p(F)&&!i)break;const L=nt(await j[w](_,t),C,w);L&&(F={...L,...ne(w,L.message)},I(L.message),i&&(S[E]=F))}if(!p(F)&&(S[E]={ref:C,...F},!i))return S}}return I(!0),S};const sr={mode:Y.onSubmit,reValidateMode:Y.onChange,shouldFocusError:!0};function ir(e={}){let s={...sr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:J(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},l=N(s.defaultValues)||N(s.values)?T(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:T(l),d={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},k,R=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let V={...v};const h={array:Qe(),state:Qe()},z=s.criteriaMode===Y.all,j=r=>a=>{clearTimeout(R),R=setTimeout(r,a)},E=async r=>{if(!s.disabled&&(v.isValid||V.isValid||r)){const a=s.resolver?p((await Q()).errors):await G(i,!0);a!==t.isValid&&h.state.next({isValid:a})}},U=(r,a)=>{!s.disabled&&(v.isValidating||v.validatingFields||V.isValidating||V.validatingFields)&&((r||Array.from(c.mount)).forEach(o=>{o&&(a?D(t.validatingFields,o,a):O(t.validatingFields,o))}),h.state.next({validatingFields:t.validatingFields,isValidating:!p(t.validatingFields)}))},oe=(r,a=[],o,g,f=!0,u=!0)=>{if(g&&o&&!s.disabled){if(d.action=!0,u&&Array.isArray(y(i,r))){const m=o(y(i,r),g.argA,g.argB);f&&D(i,r,m)}if(u&&Array.isArray(y(t.errors,r))){const m=o(y(t.errors,r),g.argA,g.argB);f&&D(t.errors,r,m),tr(t.errors,r)}if((v.touchedFields||V.touchedFields)&&u&&Array.isArray(y(t.touchedFields,r))){const m=o(y(t.touchedFields,r),g.argA,g.argB);f&&D(t.touchedFields,r,m)}(v.dirtyFields||V.dirtyFields)&&(t.dirtyFields=fe(l,n)),h.state.next({name:r,isDirty:X(r,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(n,r,a)},_=(r,a)=>{D(t.errors,r,a),h.state.next({errors:t.errors})},C=r=>{t.errors=r,h.state.next({errors:t.errors,isValid:!1})},I=(r,a,o,g)=>{const f=y(i,r);if(f){const u=y(n,r,M(o)?y(l,r):o);M(u)||g&&g.defaultChecked||a?D(n,r,a?u:tt(f._f)):L(r,u),d.mount&&E()}},S=(r,a,o,g,f)=>{let u=!1,m=!1;const x={name:r};if(!s.disabled){if(!o||g){(v.isDirty||V.isDirty)&&(m=t.isDirty,t.isDirty=x.isDirty=X(),u=m!==x.isDirty);const A=se(y(l,r),a);m=!!y(t.dirtyFields,r),A?O(t.dirtyFields,r):D(t.dirtyFields,r,!0),x.dirtyFields=t.dirtyFields,u=u||(v.dirtyFields||V.dirtyFields)&&m!==!A}if(o){const A=y(t.touchedFields,r);A||(D(t.touchedFields,r,o),x.touchedFields=t.touchedFields,u=u||(v.touchedFields||V.touchedFields)&&A!==o)}u&&f&&h.state.next(x)}return u?x:{}},te=(r,a,o,g)=>{const f=y(t.errors,r),u=(v.isValid||V.isValid)&&q(a)&&t.isValid!==a;if(s.delayError&&o?(k=j(()=>_(r,o)),k(s.delayError)):(clearTimeout(R),k=null,o?D(t.errors,r,o):O(t.errors,r)),(o?!se(f,o):f)||!p(g)||u){const m={...g,...u&&q(a)?{isValid:a}:{},errors:t.errors,name:r};t={...t,...m},h.state.next(m)}},Q=async r=>{U(r,!0);const a=await s.resolver(n,s.context,Yt(r||c.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return U(r),a},ae=async r=>{const{errors:a}=await Q(r);if(r)for(const o of r){const g=y(a,o);g?D(t.errors,o,g):O(t.errors,o)}else t.errors=a;return a},G=async(r,a,o={valid:!0})=>{for(const g in r){const f=r[g];if(f){const{_f:u,...m}=f;if(u){const x=c.array.has(u.name),A=f._f&&Jt(f._f);A&&v.validatingFields&&U([u.name],!0);const H=await lt(f,c.disabled,n,z,s.shouldUseNativeValidation&&!a,x);if(A&&v.validatingFields&&U([u.name]),H[u.name]&&(o.valid=!1,a))break;!a&&(y(H,u.name)?x?rr(t.errors,H,u.name):D(t.errors,u.name,H[u.name]):O(t.errors,u.name))}!p(m)&&await G(m,a,o)}}return o.valid},ne=()=>{for(const r of c.unMount){const a=y(i,r);a&&(a._f.refs?a._f.refs.every(o=>!Me(o)):!Me(a._f.ref))&&Ee(r)}c.unMount=new Set},X=(r,a)=>!s.disabled&&(r&&a&&D(n,r,a),!se(be(),l)),F=(r,a,o)=>ct(r,c,{...d.mount?n:M(a)?l:$(r)?{[r]:a}:a},o,a),w=r=>Te(y(d.mount?n:l,r,s.shouldUnregister?y(l,r,[]):[])),L=(r,a,o={})=>{const g=y(i,r);let f=a;if(g){const u=g._f;u&&(!u.disabled&&D(n,r,vt(a,u)),f=Ve(u.ref)&&W(a)?"":a,gt(u.ref)?[...u.ref.options].forEach(m=>m.selected=f.includes(m.value)):u.refs?ve(u.ref)?u.refs.forEach(m=>{(!m.defaultChecked||!m.disabled)&&(Array.isArray(f)?m.checked=!!f.find(x=>x===m.value):m.checked=f===m.value||!!f)}):u.refs.forEach(m=>m.checked=m.value===f):Be(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||h.state.next({name:r,values:T(n)})))}(o.shouldDirty||o.shouldTouch)&&S(r,f,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&ue(r)},P=(r,a,o)=>{for(const g in a){if(!a.hasOwnProperty(g))return;const f=a[g],u=r+"."+g,m=y(i,u);(c.array.has(r)||N(f)||m&&!m._f)&&!le(f)?P(u,f,o):L(u,f,o)}},B=(r,a,o={})=>{const g=y(i,r),f=c.array.has(r),u=T(a);D(n,r,u),f?(h.array.next({name:r,values:T(n)}),(v.isDirty||v.dirtyFields||V.isDirty||V.dirtyFields)&&o.shouldDirty&&h.state.next({name:r,dirtyFields:fe(l,n),isDirty:X(r,u)})):g&&!g._f&&!W(u)?P(r,u,o):L(r,u,o),it(r,c)&&h.state.next({...t,name:r}),h.state.next({name:d.mount?r:void 0,values:T(n)})},Z=async r=>{d.mount=!0;const a=r.target;let o=a.name,g=!0;const f=y(i,o),u=A=>{g=Number.isNaN(A)||le(A)&&isNaN(A.getTime())||se(A,y(n,o,A))},m=rt(s.mode),x=rt(s.reValidateMode);if(f){let A,H;const _e=a.type?tt(f._f):ut(r),ie=r.type===Fe.BLUR||r.type===Fe.FOCUS_OUT,Mt=!Qt(f._f)&&!s.resolver&&!y(t.errors,o)&&!f._f.deps||er(ie,y(t.touchedFields,o),t.isSubmitted,x,m),Ce=it(o,c,ie);D(n,o,_e),ie?(!a||!a.readOnly)&&(f._f.onBlur&&f._f.onBlur(r),k&&k(0)):f._f.onChange&&f._f.onChange(r);const Re=S(o,_e,ie),Lt=!p(Re)||Ce;if(!ie&&h.state.next({name:o,type:r.type,values:T(n)}),Mt)return(v.isValid||V.isValid)&&(s.mode==="onBlur"?ie&&E():ie||E()),Lt&&h.state.next({name:o,...Ce?{}:Re});if(!ie&&Ce&&h.state.next({...t}),s.resolver){const{errors:Ye}=await Q([o]);if(u(_e),g){const Ot=at(t.errors,i,o),Je=at(Ye,i,Ot.name||o);A=Je.error,o=Je.name,H=p(Ye)}}else U([o],!0),A=(await lt(f,c.disabled,n,z,s.shouldUseNativeValidation))[o],U([o]),u(_e),g&&(A?H=!1:(v.isValid||V.isValid)&&(H=await G(i,!0)));g&&(f._f.deps&&(!Array.isArray(f._f.deps)||f._f.deps.length>0)&&ue(f._f.deps),te(o,H,A,Re))}},ce=(r,a)=>{if(y(t.errors,a)&&r.focus)return r.focus(),1},ue=async(r,a={})=>{let o,g;const f=ge(r);if(s.resolver){const u=await ae(M(r)?r:f);o=p(u),g=r?!f.some(m=>y(u,m)):o}else r?(g=(await Promise.all(f.map(async u=>{const m=y(i,u);return await G(m&&m._f?{[u]:m}:m)}))).every(Boolean),!(!g&&!t.isValid)&&E()):g=o=await G(i);return h.state.next({...!$(r)||(v.isValid||V.isValid)&&o!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:o}:{},errors:t.errors}),a.shouldFocus&&!g&&me(i,ce,r?f:c.mount),g},be=(r,a)=>{let o={...d.mount?n:l};return a&&(o=yt(a.dirtyFields?t.dirtyFields:t.touchedFields,o)),M(r)?o:$(r)?y(o,r):r.map(g=>y(o,g))},We=(r,a)=>({invalid:!!y((a||t).errors,r),isDirty:!!y((a||t).dirtyFields,r),error:y((a||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((a||t).touchedFields,r)}),At=r=>{r&&ge(r).forEach(a=>O(t.errors,a)),h.state.next({errors:r?t.errors:{}})},je=(r,a,o)=>{const g=(y(i,r,{_f:{}})._f||{}).ref,f=y(t.errors,r)||{},{ref:u,message:m,type:x,...A}=f;D(t.errors,r,{...A,...a,ref:g}),h.state.next({name:r,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&g&&g.focus&&g.focus()},Dt=(r,a)=>J(r)?h.state.subscribe({next:o=>"values"in o&&r(F(void 0,a),o)}):F(r,a,!0),qe=r=>h.state.subscribe({next:a=>{Zt(r.name,a.name,r.exact)&&Xt(a,r.formState||v,Rt,r.reRenderRoot)&&r.callback({values:{...n},...t,...a,defaultValues:l})}}).unsubscribe,Et=r=>(d.mount=!0,V={...V,...r.formState},qe({...r,formState:V})),Ee=(r,a={})=>{for(const o of r?ge(r):c.mount)c.mount.delete(o),c.array.delete(o),a.keepValue||(O(i,o),O(n,o)),!a.keepError&&O(t.errors,o),!a.keepDirty&&O(t.dirtyFields,o),!a.keepTouched&&O(t.touchedFields,o),!a.keepIsValidating&&O(t.validatingFields,o),!s.shouldUnregister&&!a.keepDefaultValue&&O(l,o);h.state.next({values:T(n)}),h.state.next({...t,...a.keepDirty?{isDirty:X()}:{}}),!a.keepIsValid&&E()},$e=({disabled:r,name:a})=>{(q(r)&&d.mount||r||c.disabled.has(a))&&(r?c.disabled.add(a):c.disabled.delete(a))},Se=(r,a={})=>{let o=y(i,r);const g=q(a.disabled)||q(s.disabled);return D(i,r,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:r}},name:r,mount:!0,...a}}),c.mount.add(r),o?$e({disabled:q(a.disabled)?a.disabled:s.disabled,name:r}):I(r,!0,a.value),{...g?{disabled:a.disabled||s.disabled}:{},...s.progressive?{required:!!a.required,min:ye(a.min),max:ye(a.max),minLength:ye(a.minLength),maxLength:ye(a.maxLength),pattern:ye(a.pattern)}:{},name:r,onChange:Z,onBlur:Z,ref:f=>{if(f){Se(r,a),o=y(i,r);const u=M(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,m=Ht(u),x=o._f.refs||[];if(m?x.find(A=>A===u):u===o._f.ref)return;D(i,r,{_f:{...o._f,...m?{refs:[...x.filter(Me),u,...Array.isArray(y(l,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),I(r,!1,void 0,u)}else o=y(i,r,{}),o._f&&(o._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(dt(c.array,r)&&d.action)&&c.unMount.add(r)}}},ke=()=>s.shouldFocusError&&me(i,ce,c.mount),St=r=>{q(r)&&(h.state.next({disabled:r}),me(i,(a,o)=>{const g=y(i,o);g&&(a.disabled=g._f.disabled||r,Array.isArray(g._f.refs)&&g._f.refs.forEach(f=>{f.disabled=g._f.disabled||r}))},0,!1))},He=(r,a)=>async o=>{let g;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let f=T(n);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:u,values:m}=await Q();t.errors=u,f=T(m)}else await G(i);if(c.disabled.size)for(const u of c.disabled)O(f,u);if(O(t.errors,"root"),p(t.errors)){h.state.next({errors:{}});try{await r(f,o)}catch(u){g=u}}else a&&await a({...t.errors},o),ke(),setTimeout(ke);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:p(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},kt=(r,a={})=>{y(i,r)&&(M(a.defaultValue)?B(r,T(y(l,r))):(B(r,a.defaultValue),D(l,r,T(a.defaultValue))),a.keepTouched||O(t.touchedFields,r),a.keepDirty||(O(t.dirtyFields,r),t.isDirty=a.defaultValue?X(r,T(y(l,r))):X()),a.keepError||(O(t.errors,r),v.isValid&&E()),h.state.next({...t}))},Ke=(r,a={})=>{const o=r?T(r):l,g=T(o),f=p(r),u=f?l:g;if(a.keepDefaultValues||(l=o),!a.keepValues){if(a.keepDirtyValues){const m=new Set([...c.mount,...Object.keys(fe(l,n))]);for(const x of Array.from(m))y(t.dirtyFields,x)?D(u,x,y(n,x)):B(x,y(u,x))}else{if(Ne&&M(r))for(const m of c.mount){const x=y(i,m);if(x&&x._f){const A=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(Ve(A)){const H=A.closest("form");if(H){H.reset();break}}}}if(a.keepFieldsRef)for(const m of c.mount)B(m,y(u,m));else i={}}n=s.shouldUnregister?a.keepDefaultValues?T(l):{}:T(u),h.array.next({values:{...u}}),h.state.next({values:{...u}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!v.isValid||!!a.keepIsValid||!!a.keepDirtyValues,d.watch=!!s.shouldUnregister,h.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!se(r,l)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&n?fe(l,n):t.dirtyFields:a.keepDefaultValues&&r?fe(l,r):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},ze=(r,a)=>Ke(J(r)?r(n):r,a),Ct=(r,a={})=>{const o=y(i,r),g=o&&o._f;if(g){const f=g.refs?g.refs[0]:g.ref;f.focus&&(f.focus(),a.shouldSelect&&J(f.select)&&f.select())}},Rt=r=>{t={...t,...r}},Ge={control:{register:Se,unregister:Ee,getFieldState:We,handleSubmit:He,setError:je,_subscribe:qe,_runSchema:Q,_focusError:ke,_getWatch:F,_getDirty:X,_setValid:E,_setFieldArray:oe,_setDisabledField:$e,_setErrors:C,_getFieldArray:w,_reset:Ke,_resetDefaultValues:()=>J(s.defaultValues)&&s.defaultValues().then(r=>{ze(r,s.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:St,_subjects:h,_proxyFormState:v,get _fields(){return i},get _formValues(){return n},get _state(){return d},set _state(r){d=r},get _defaultValues(){return l},get _names(){return c},set _names(r){c=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:Et,trigger:ue,register:Se,handleSubmit:He,watch:Dt,setValue:B,getValues:be,reset:ze,resetField:kt,clearErrors:At,unregister:Ee,setError:je,setFocus:Ct,getFieldState:We};return{...Ge,formControl:Ge}}function gr(e={}){const s=b.useRef(void 0),t=b.useRef(void 0),[i,l]=b.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:i},e.defaultValues&&!J(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...c}=ir(e);s.current={...c,formState:i}}const n=s.current.control;return n._options=e,Pe(()=>{const d=n._subscribe({formState:n._proxyFormState,callback:()=>l({...n._formState}),reRenderRoot:!0});return l(c=>({...c,isReady:!0})),n._formState.isReady=!0,d},[n]),b.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),b.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),b.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),b.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),b.useEffect(()=>{if(n._proxyFormState.isDirty){const d=n._getDirty();d!==i.isDirty&&n._subjects.state.next({isDirty:d})}},[n,i.isDirty]),b.useEffect(()=>{e.values&&!se(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),t.current=e.values,l(d=>({...d}))):n._resetDefaultValues()},[n,e.values]),b.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=ft(i,n),s.current}var ar="Label",_t=K.forwardRef((e,s)=>ee.jsx(Nt.label,{...e,ref:s,onMouseDown:t=>{var l;t.target.closest("button, input, select, textarea")||((l=e.onMouseDown)==null||l.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));_t.displayName=ar;var Ft=_t;const nr=Tt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Vt=K.forwardRef(({className:e,...s},t)=>ee.jsx(Ft,{ref:t,className:he(nr(),e),...s}));Vt.displayName=Ft.displayName;const mr=Bt,xt=K.createContext({}),hr=({...e})=>ee.jsx(xt.Provider,{value:{name:e.name},children:ee.jsx(qt,{...e})}),De=()=>{const e=K.useContext(xt),s=K.useContext(wt),{getFieldState:t,formState:i}=Ae(),l=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:n}=s;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},wt=K.createContext({}),lr=K.forwardRef(({className:e,...s},t)=>{const i=K.useId();return ee.jsx(wt.Provider,{value:{id:i},children:ee.jsx("div",{ref:t,className:he("space-y-2",e),...s})})});lr.displayName="FormItem";const or=K.forwardRef(({className:e,...s},t)=>{const{error:i,formItemId:l}=De();return ee.jsx(Vt,{ref:t,className:he(i&&"text-destructive",e),htmlFor:l,...s})});or.displayName="FormLabel";const ur=K.forwardRef(({...e},s)=>{const{error:t,formItemId:i,formDescriptionId:l,formMessageId:n}=De();return ee.jsx(It,{ref:s,id:i,"aria-describedby":t?`${l} ${n}`:`${l}`,"aria-invalid":!!t,...e})});ur.displayName="FormControl";const dr=K.forwardRef(({className:e,...s},t)=>{const{formDescriptionId:i}=De();return ee.jsx("p",{ref:t,id:i,className:he("text-sm text-muted-foreground",e),...s})});dr.displayName="FormDescription";const fr=K.forwardRef(({className:e,children:s,...t},i)=>{const{error:l,formMessageId:n}=De(),d=l?String(l==null?void 0:l.message):s;return d?ee.jsx("p",{ref:i,id:n,className:he("text-sm font-medium text-destructive",e),...t,children:d}):null});fr.displayName="FormMessage";export{lr as F,or as a,ur as b,dr as c,fr as d,hr as e,mr as f,y as g,$t as h,gr as i,D as s,Wt as u};
